<section class="page-container">
  <section class="contact-hero">
    <h1>Contact Us</h1>
    <p>
      We’d love to hear from you! Whether you’re interested in visiting,
      adopting, volunteering, or simply have questions — reach out and let’s
      connect.
    </p>
  </section>
  <section class="contact-wrapper">
    <div class="contact-details">
      <h2>Get in Touch</h2>
      <p><strong>Email:</strong> hello&#64;spiritanimals.ro</p>
      <p><strong>Phone:</strong> +40 712 345 678</p>
      <p><strong>Location:</strong> Bucovina, Romania</p>
    </div>
    <div class="contact-form">
      <!-- REMOVED (submit) from form tag -->
      <form #contactForm="ngForm">
        <label>
          Name:
          <input type="text" [(ngModel)]="form.name" name="name" required />
        </label>

        <label>
          Email:
          <input type="email" [(ngModel)]="form.email" name="email" required />
        </label>

        <label>
          Message:
          <textarea
            [(ngModel)]="form.message"
            name="message"
            required
          ></textarea>
        </label>

        <!-- NEW: reCAPTCHA Component -->
        <div class="form-group captcha-container">
          <ngx-invisible-recaptcha
            #captchaElem
            [siteKey]="recaptchaSiteKey"
            (success)="handleRecaptchaSuccess($event)"
          >
          </ngx-invisible-recaptcha>
        </div>

        <div
          *ngIf="message"
          class="message-box"
          [class.success]="!isError"
          [class.error]="isError"
        >
          {{ message }}
        </div>

        <!-- UPDATED: Changed to a (click) event -->
        <button
          type="button"
          (click)="handleSendMessageClick(contactForm)"
          [disabled]="isLoading"
        >
          <span *ngIf="!isLoading">Send Message</span>
          <span *ngIf="isLoading">Sending...</span>
        </button>
      </form>
    </div>
  </section>
  <section class="contact-map">
    <h2>Where to Find Us</h2>
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2699.8602342302383!2d25.9482874!3d47.6465589!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4734727e56f225e7%3A0x7ba88f9f5eb9a55!2sBucovina!5e0!3m2!1sen!2sro!4v1684000000000"
      width="100%"
      height="300"
      style="border: 0"
      allowfullscreen=""
      loading="lazy"
    ></iframe>
  </section>
</section>
